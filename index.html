<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test SÃ©curitÃ© Atelier - LycÃ©e Professionnel PrivÃ© Jacques Raynaud</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.5;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #0066cc;
            padding-bottom: 25px;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #0066cc, #004499);
            color: white;
            margin: -30px -30px 30px -30px;
            padding: 30px;
            border-radius: 15px 15px 0 0;
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            margin: 5px 0;
            opacity: 0.95;
        }
        .student-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }
        .student-info input, .student-info select {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .student-info input:focus, .student-info select:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 2px solid #e3f2fd;
            border-radius: 12px;
            background: linear-gradient(145deg, #fafafa, #f0f0f0);
            transition: all 0.3s ease;
        }
        .question:hover {
            border-color: #0066cc;
            box-shadow: 0 5px 15px rgba(0,102,204,0.1);
            transform: translateY(-2px);
        }
        .question h3 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 17px;
            font-weight: 600;
        }
        .multiple-answer {
            background: linear-gradient(45deg, #ff9800, #ff5722);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(255,152,0,0.3);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .options {
            margin-left: 10px;
        }
        .options label {
            display: block;
            margin: 12px 0;
            cursor: pointer;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.5);
            border: 2px solid transparent;
        }
        .options label:hover {
            background: linear-gradient(45deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
            transform: translateX(5px);
        }
        .options input[type="checkbox"] {
            margin-right: 12px;
            transform: scale(1.3);
            accent-color: #0066cc;
        }
        .section-title {
            background: linear-gradient(45deg, #0066cc, #2196f3);
            color: white;
            padding: 15px 20px;
            margin: 40px 0 25px 0;
            border-radius: 10px;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,102,204,0.3);
            position: relative;
            overflow: hidden;
        }
        .section-title::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shine 3s infinite;
        }
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        .submit-btn {
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            color: white;
            padding: 18px 35px;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(76,175,80,0.4);
            transition: all 0.3s ease;
        }
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76,175,80,0.6);
        }
        .results {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            padding: 25px;
            border-radius: 15px;
            margin-top: 25px;
            border: 3px solid #4caf50;
            box-shadow: 0 10px 20px rgba(76,175,80,0.2);
        }
        .results.failed {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-color: #f44336;
        }
        .consignes {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #ffc107;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(255,193,7,0.2);
        }
        .consignes h4 {
            margin: 0 0 15px 0;
            color: #f57c00;
            font-size: 18px;
        }
        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-family: Arial, sans-serif;
            resize: vertical;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }
        textarea:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 10px rgba(0,102,204,0.2);
        }
        .send-btn {
            background: linear-gradient(45deg, #2e7d32, #388e3c);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(46,125,50,0.3);
            transition: all 0.3s ease;
        }
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46,125,50,0.4);
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            body {
                padding: 10px;
            }
            .header h1 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ›¡ï¸ Test SÃ©curitÃ© - Permis de travail ğŸ›¡ï¸</h1>
            <p><strong>SÃ©quence 1 sÃ©curitÃ© et dÃ©couverte du mÃ©tier - SÃ©ance 3</strong></p>
            <p>CompÃ©tences : CC1 CC2 CC3</p>
            <small>f. Henninot 24 - LycÃ©e Professionnel PrivÃ© Jacques Raynaud</small>
        </div>

        <div id="student-form">
            <div class="student-info">
                <h3 style="margin: 0 0 15px 0; text-align: center;">ğŸ“ Vos informations</h3>
                <input type="text" id="student-name" placeholder="Nom" required>
                <input type="text" id="student-firstname" placeholder="PrÃ©nom" required>
                <select id="student-class" required>
                    <option value="">-- Choisissez votre classe --</option>
                    <option value="1CAP">1CAP IFCA</option>
                    <option value="2CAP">2CAP IFCA</option>
                    <option value="2TNE">2nde TNE</option>
                    <option value="1MFER">1Ã¨re MFER</option>
                    <option value="TMFER">Terminale MFER</option>
                    <option value="CVC">TP CVC</option>
                    <option value="AUTRE">Autre</option>
                </select>
                <input type="date" id="test-date" required>
            </div>

            <div class="consignes">
                <h4>âš ï¸ Consignes importantes :</h4>
                <ul style="margin: 0; padding-left: 25px; color: #f57c00; font-size: 15px;">
                    <li>Le travail est individuel.</li>
                    <li>Vous avez le droit de consulter les cours et les documents qui vous ont Ã©tÃ© donnÃ©s lors des derniÃ¨res sÃ©ances.</li>
                    <li>RÃ©pondez Ã  toutes les questions en respectant les consignes donnÃ©es.</li>
                    <li><strong>Si vous n'obtenez pas au moins la moyenne, vous ne serez pas autorisÃ©s Ã  travailler en atelier jusqu'Ã  la validation du test.</strong></li>
                </ul>
            </div>
        </div>

        <form id="quiz-form">
            <div class="section-title">ğŸ« Partie 1 : Vie scolaire</div>
            
            <div class="question">
                <h3>1. Que dois-je faire si j'arrive en retard au lycÃ©e ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q1" value="a"> âœ… Valider mon retard Ã  la vie scolaire</label>
                    <label><input type="checkbox" name="q1" value="b"> ğŸ¥· Ne rien faire et m'installer discrÃ¨tement dans la salle</label>
                </div>
            </div>

            <div class="question">
                <h3>2. Que dois-je faire si je suis absent au lycÃ©e ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q2" value="a"> ğŸ“ PrÃ©venir la vie scolaire</label>
                    <label><input type="checkbox" name="q2" value="b"> ğŸ¤ Ne rien dire</label>
                    <label><input type="checkbox" name="q2" value="c"> â° Attendre que l'enseignant appelle mes parents</label>
                </div>
            </div>

            <div class="question">
                <h3>3. Puis-je passer en premiÃ¨re sans avoir effectuÃ© mes pÃ©riodes de stage (PFMP) ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q3" value="a"> ğŸ¯ Oui</label>
                    <label><input type="checkbox" name="q3" value="b"> âŒ Non</label>
                    <label><input type="checkbox" name="q3" value="c"> ğŸ¥ Avec la prÃ©sentation d'un certificat mÃ©dical dÃ©livrÃ© par le mÃ©decin gÃ©nÃ©raliste</label>
                </div>
            </div>

            <div class="question">
                <h3>4. Quels comportements sont interdits dans l'Ã©tablissement ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q4" value="a"> ğŸš­ Fumer ou vapoter</label>
                    <label><input type="checkbox" name="q4" value="b"> ğŸ• Manger en classe</label>
                    <label><input type="checkbox" name="q4" value="c"> ğŸ’Š Consommer des produits stupÃ©fiants</label>
                    <label><input type="checkbox" name="q4" value="d"> ğŸ“± Utiliser un tÃ©lÃ©phone sans autorisation</label>
                </div>
            </div>

            <div class="question">
                <h3>5. Dois-je respecter le balisage de circulation dans l'atelier ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q5" value="a"> âœ… Oui</label>
                    <label><input type="checkbox" name="q5" value="b"> âŒ Non</label>
                    <label><input type="checkbox" name="q5" value="c"> ğŸ”§ Seulement si je manipule des outils</label>
                </div>
            </div>

            <div class="question">
                <h3>6. Que signifie l'acronyme du nom de votre classe ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q6" value="a"> ğŸŒ± TNE : Transition NumÃ©rique Ã‰nergÃ©tique</label>
                    <label><input type="checkbox" name="q6" value="b"> âš¡ TNE : Techniques Naturelles d'Ã‰lectrification</label>
                    <label><input type="checkbox" name="q6" value="c"> â„ï¸ MFER : MÃ©tiers du Froid et des Ã‰nergies Renouvelables</label>
                    <label><input type="checkbox" name="q6" value="d"> ğŸ­ IFCA : Installateur en Froid et Conditionnement d'Air</label>
                </div>
            </div>

            <div class="section-title">ğŸ”§ Partie 2 : SÃ©curitÃ© et matÃ©riel en atelier</div>

            <div class="question">
                <h3>7. Ai-je le droit de travailler Ã  proximitÃ© d'Ã©quipements sous tension sans EPI adaptÃ©s ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q7" value="a"> ğŸ˜ Oui</label>
                    <label><input type="checkbox" name="q7" value="b"> âš¡ Non</label>
                    <label><input type="checkbox" name="q7" value="c"> ğŸ‘€ Seulement si je ne manipule pas les Ã©quipements</label>
                </div>
            </div>

            <div class="question">
                <h3>8. Que dois-je faire si je renverse un liquide prÃ¨s d'un Ã©quipement Ã©lectrique ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q8" value="a"> ğŸ•¶ï¸ Continuer Ã  travailler en Ã©vitant la zone</label>
                    <label><input type="checkbox" name="q8" value="b"> ğŸ—£ï¸ Avertir immÃ©diatement un responsable et nettoyer</label>
                    <label><input type="checkbox" name="q8" value="c"> âš¡ Couper l'alimentation immÃ©diatement</label>
                </div>
            </div>

            <div class="question">
                <h3>9. Quels EPI sont obligatoires pour travailler en atelier ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q9" value="a"> ğŸ‘” Bleu de travail</label>
                    <label><input type="checkbox" name="q9" value="b"> ğŸ‘Ÿ Chaussures de sÃ©curitÃ©</label>
                    <label><input type="checkbox" name="q9" value="c"> ğŸ¥½ Lunettes de protection</label>
                    <label><input type="checkbox" name="q9" value="d"> ğŸ§¤ Gants anti-coupure</label>
                    <label><input type="checkbox" name="q9" value="e"> â›‘ï¸ Casque de chantier</label>
                </div>
            </div>

            <div class="question">
                <h3>10. Que dois-je faire avant de manipuler une installation Ã©lectrique ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q10" value="a"> ğŸ”Œ Couper l'alimentation</label>
                    <label><input type="checkbox" name="q10" value="b"> ğŸ” VÃ©rifier l'absence de tension</label>
                    <label><input type="checkbox" name="q10" value="c"> ğŸš« Je n'ai pas le droit, je ne suis pas habilitÃ©</label>
                </div>
            </div>

            <div class="question">
                <h3>11. Quels sont les risques liÃ©s aux travaux en hauteur ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q11" value="a"> ğŸ“‰ Chute</label>
                    <label><input type="checkbox" name="q11" value="b"> âš¡ Ã‰lectrocution</label>
                    <label><input type="checkbox" name="q11" value="c"> âœ‚ï¸ Coupures</label>
                    <label><input type="checkbox" name="q11" value="d"> âš–ï¸ Perte d'Ã©quilibre</label>
                </div>
            </div>

            <div class="question">
                <h3>12. Est-il permis de travailler en hauteur sans autorisation ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q12" value="a"> ğŸ¤¸ Oui</label>
                    <label><input type="checkbox" name="q12" value="b"> ğŸš« Non</label>
                </div>
            </div>

            <div class="question">
                <h3>13. Quels numÃ©ros appeler en cas d'accident grave ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q13" value="a"> ğŸš‘ 15</label>
                    <label><input type="checkbox" name="q13" value="b"> ğŸš’ 18</label>
                    <label><input type="checkbox" name="q13" value="c"> ğŸ†˜ 112</label>
                </div>
            </div>

            <div class="question">
                <h3>14. Que faire si un outil est endommagÃ© ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q14" value="a"> ğŸ—£ï¸ Le signaler Ã  l'enseignant</label>
                    <label><input type="checkbox" name="q14" value="b"> ğŸ”§ Le rÃ©parer soi-mÃªme</label>
                    <label><input type="checkbox" name="q14" value="c"> â° Attendre un technicien</label>
                </div>
            </div>

            <div class="question">
                <h3>15. Que signifie "P-A-S" en cas d'accident ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q15" value="a"> ğŸ›¡ï¸ ProtÃ©ger, Alerter, Secourir</label>
                    <label><input type="checkbox" name="q15" value="b"> ğŸ“ PrÃ©venir, Alerter, Surveiller</label>
                    <label><input type="checkbox" name="q15" value="c"> ğŸ”’ ProtÃ©ger, Alerter, SÃ©curiser</label>
                </div>
            </div>

            <div class="question">
                <h3>16. Que faire si un camarade subit un choc Ã©lectrique ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q16" value="a"> ğŸ›¡ï¸ ProtÃ©ger la zone</label>
                    <label><input type="checkbox" name="q16" value="b"> ğŸš¨ Alerter l'enseignant</label>
                    <label><input type="checkbox" name="q16" value="c"> â›‘ï¸ Secourir si possible</label>
                </div>
            </div>

            <div class="question">
                <h3>17. Ai-je le droit de refuser une tÃ¢che dangereuse pendant ma PFMP ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q17" value="a"> âœ‹ Oui, je peux exercer mon droit de retrait</label>
                    <label><input type="checkbox" name="q17" value="b"> ğŸ¤– Non, je dois suivre les instructions du tuteur</label>
                    <label><input type="checkbox" name="q17" value="c"> âš ï¸ Seulement si je suis en danger immÃ©diat</label>
                </div>
            </div>

            <div class="question">
                <h3>18. Que dois-je faire pour travailler en toute sÃ©curitÃ© en hauteur ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q18" value="a"> ğŸª¢ Utiliser un harnais et une ligne de vie</label>
                    <label><input type="checkbox" name="q18" value="b"> ğŸƒ Monter rapidement pour finir plus vite</label>
                    <label><input type="checkbox" name="q18" value="c"> ğŸ” VÃ©rifier la stabilitÃ© de l'Ã©chelle</label>
                </div>
            </div>

            <div class="question">
                <h3>19. Quels sont les Ã©quipements supplÃ©mentaires EPI & EPC pour utiliser un chalumeau ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q19" value="a"> ğŸ•¶ï¸ Lunettes spÃ©ciales</label>
                    <label><input type="checkbox" name="q19" value="b"> ğŸ§¤ Gants en cuir</label>
                    <label><input type="checkbox" name="q19" value="c"> ğŸ¦º Tablier en coton Ã©pais ou cuir</label>
                    <label><input type="checkbox" name="q19" value="d"> ğŸ’¨ Ventilation</label>
                </div>
            </div>

            <div class="question">
                <h3>20. Que faire en cas d'accident Ã©lectrique en atelier ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q20" value="a"> ğŸ”Œ Couper immÃ©diatement l'alimentation</label>
                    <label><input type="checkbox" name="q20" value="b"> ğŸš¨ Alerter l'enseignant</label>
                    <label><input type="checkbox" name="q20" value="c"> â›‘ï¸ Secourir si possible</label>
                    <label><input type="checkbox" name="q20" value="d"> ğŸ›¡ï¸ ProtÃ©ger la zone</label>
                </div>
            </div>

            <div class="question">
                <h3>21. Que reprÃ©sente le pictogramme suivant ? (bouton d'arrÃªt d'urgence rouge)</h3>
                <div class="options">
                    <label><input type="checkbox" name="q21" value="a"> ğŸ›‘ Bouton d'arrÃªt d'urgence Â« ARUÂ»</label>
                    <label><input type="checkbox" name="q21" value="b"> ğŸ”¥ C'est un bouton d'alarme incendie</label>
                    <label><input type="checkbox" name="q21" value="c"> ğŸ™… Ne jamais appuyer dessus</label>
                </div>
            </div>

            <div class="question">
                <h3>22. Ai-je le droit d'appuyer sur l'arrÃªt d'urgence (ARU) pour m'amuser ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q22" value="a"> ğŸ˜ˆ Oui, si personne ne me voit (petit malin !)</label>
                    <label><input type="checkbox" name="q22" value="b"> ğŸš« Non, sauf en cas de danger</label>
                    <label><input type="checkbox" name="q22" value="c"> ğŸ‘¨â€ğŸ« Seulement si l'enseignant me l'autorise</label>
                </div>
            </div>

            <div class="question">
                <h3>23. Quels types d'outils et machines sont utilisÃ©s dans l'atelier ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q23" value="a"> âš¡ MatÃ©riel Ã©lectrique</label>
                    <label><input type="checkbox" name="q23" value="b"> âœ‚ï¸ MatÃ©riel coupant et Ã©crasant</label>
                    <label><input type="checkbox" name="q23" value="c"> ğŸ”¥ Chalumeaux oxyacÃ©tylÃ©niques</label>
                </div>
            </div>

            <div class="question">
                <h3>24. Quels sont les principaux risques liÃ©s au mÃ©tier de frigoriste ?</h3>
                <div style="margin-top: 10px;">
                    <textarea name="q24" placeholder="Ã‰crivez votre rÃ©ponse ici... 
ğŸ’¡ Pensez aux mots-clÃ©s : gelure, brÃ»lures, lÃ©gionellose, anoxie, explosion, amiante, etc.
Plus vous en citez, mieux c'est notÃ© ! ğŸ˜Š"></textarea>
                </div>
            </div>

            <div class="question">
                <h3>25. Quels sont les risques encourus en utilisant des machines sous tension ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q25" value="a"> âš¡ Ã‰lectrisation</label>
                    <label><input type="checkbox" name="q25" value="b"> ğŸ’€ Ã‰lectrocution</label>
                    <label><input type="checkbox" name="q25" value="c"> ğŸ“° D'Ãªtre mis au courant (ğŸ˜… celle-lÃ  c'est cadeau !)</label>
                </div>
            </div>

            <div class="question">
                <h3>26. Que signifie l'acronyme "EPI" ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q26" value="a"> ğŸ›¡ï¸ Ã‰quipement de Protection Individuelle</label>
                    <label><input type="checkbox" name="q26" value="b"> ğŸ­ Ã‰quipement de Protection Industrielle</label>
                </div>
            </div>

            <div class="question">
                <h3>27. Quelles sont les consignes Ã  respecter pour travailler en toute sÃ©curitÃ© dans l'atelier ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q27" value="a"> ğŸ‘· Porter les EPI</label>
                    <label><input type="checkbox" name="q27" value="b"> ğŸ—£ï¸ Signaler les outils dÃ©fectueux</label>
                    <label><input type="checkbox" name="q27" value="c"> âœ… Respecter les consignes de sÃ©curitÃ©</label>
                </div>
            </div>

            <div class="question">
                <h3>28. Que signifie "EPC" ?</h3>
                <div class="options">
                    <label><input type="checkbox" name="q28" value="a"> ğŸ˜ï¸ Ã‰quipement de Protection Collective</label>
                    <label><input type="checkbox" name="q28" value="b"> ğŸ¤ Ã‰quipement Personnel de CoopÃ©rative</label>
                </div>
            </div>

            <div class="question">
                <h3>29. Pourquoi est-il important de porter des EPI ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q29" value="a"> ğŸ›¡ï¸ Pour me protÃ©ger</label>
                    <label><input type="checkbox" name="q29" value="b"> ğŸš« Pour Ã©viter les accidents</label>
                    <label><input type="checkbox" name="q29" value="c"> ğŸ“‹ Pour suivre les consignes</label>
                </div>
            </div>

            <div class="question">
                <h3>30. Que dois-je faire avant d'utiliser des outils Ã©lectroportatifs ?</h3>
                <div class="multiple-answer">âœ‹ Plusieurs rÃ©ponses possibles</div>
                <div class="options">
                    <label><input type="checkbox" name="q30" value="a"> ğŸ‘¨â€ğŸ« Demander l'autorisation de l'enseignant</label>
                    <label><input type="checkbox" name="q30" value="b"> ğŸ” VÃ©rifier l'outil avant utilisation</label>
                    <label><input type="checkbox" name="q30" value="c"> âœ… M'assurer que l'outil fonctionne correctement</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">ğŸ¯ Terminer le test</button>
        </form>

        <div id="results" style="display: none;">
            <div class="results">
                <h2>ğŸ‰ RÃ©sultats du test</h2>
                <div id="score-display"></div>
                <button onclick="sendResults()" class="send-btn">ğŸ“§ Envoyer au professeur</button>
                <div id="send-status" style="margin-top: 10px; color: #666;"></div>
            </div>
        </div>
    </div>

    <script>
        // URL de votre Google Apps Script (dÃ©jÃ  intÃ©grÃ©e)
        const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwFtN9THG8x-jH8TjeOoIHDPE6P1busrobyc0j5ol1yPsPDxs6lJdvVOwMyDrgi6qkTQg/exec";

        // RÃ©ponses correctes
        const correctAnswers = {
            q1: ['a'], q2: ['a'], q3: ['b'], q4: ['a', 'b', 'c', 'd'], q5: ['a'], 
            q6: ['a', 'c'], q7: ['b'], q8: ['b', 'c'], q9: ['a', 'b', 'c', 'd'], q10: ['c'],
            q11: ['a', 'd'], q12: ['b'], q13: ['a', 'b', 'c'], q14: ['a'], q15: ['a'],
            q16: ['a', 'b', 'c'], q17: ['a'], q18: ['a', 'c'], q19: ['a', 'b', 'c', 'd'], 
            q20: ['a', 'b', 'c', 'd'], q21: ['a'], q22: ['b'], q23: ['a', 'b', 'c'],
            q25: ['a', 'b'], q26: ['a'], q27: ['a', 'b', 'c'], q28: ['a'], q29: ['a', 'b', 'c'], q30: ['a', 'b', 'c']
        };

        document.getElementById('quiz-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('student-name').value;
            const firstname = document.getElementById('student-firstname').value;
            const studentClass = document.getElementById('student-class').value;
            const testDate = document.getElementById('test-date').value;
            
            if (!name.trim() || !firstname.trim() || !studentClass || !testDate) {
                alert('ğŸš¨ Veuillez remplir tous les champs obligatoires !');
                return;
            }

            let score = 0;
            let details = [];
            
            // Ã‰valuation questions QCM
            for (let questionId in correctAnswers) {
                const selectedAnswers = Array.from(document.querySelectorAll(`input[name="${questionId}"]:checked`))
                    .map(input => input.value);
                
                const correct = correctAnswers[questionId];
                const isCorrect = arraysEqual(selectedAnswers.sort(), correct.sort());
                
                if (isCorrect) score++;
                details.push({question: questionId, selected: selectedAnswers, correct: correct, isCorrect: isCorrect});
            }
            
            // Question 24 (Ã©valuation semi-automatique)
            const q24Answer = document.querySelector('textarea[name="q24"]').value.trim();
            const q24Keywords = ['gelure', 'brÃ»lure', 'lÃ©gionellose', 'anoxie', 'asphyxie', 'explosion', 'amiante'];
            const q24Score = q24Keywords.filter(keyword => q24Answer.toLowerCase().includes(keyword)).length;
            
            if (q24Score >= 3) score += 1;
            
            const totalQuestions = 30;
            const percentage = Math.round((score / totalQuestions) * 100);
            const noteOn20 = Math.round((score / totalQuestions) * 20);
            
            // Affichage des rÃ©sultats
            const resultsDiv = document.getElementById('results');
            const scoreDisplay = document.getElementById('score-display');
            
            scoreDisplay.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <h3>ğŸ“ ${name} ${firstname} - ${studentClass}</h3>
                    <p><strong>ğŸ“… Date:</strong> ${new Date(testDate).toLocaleDateString('fr-FR')}</p>
                    <div style="font-size: 24px; margin: 20px 0;">
                        <strong>ğŸ“Š Score:</strong> ${score}/30 questions (${percentage}%)
                    </div>
                    <div style="font-size: 28px; margin: 20px 0; padding: 15px; border-radius: 10px; ${noteOn20 >= 10 ? 'background: linear-gradient(45deg, #4caf50, #8bc34a); color: white;' : 'background: linear-gradient(45deg, #f44336, #e57373); color: white;'}">
                        <strong>ğŸ¯ Note: ${noteOn20}/20</strong>
                    </div>
                    <p><strong>ğŸ“ Question 24:</strong> ${q24Score}/7 mots-clÃ©s trouvÃ©s</p>
                    <div style="font-size: 20px; font-weight: bold; margin-top: 20px; ${noteOn20 >= 10 ? 'color: #4caf50;' : 'color: #f44336;'}">
                        ${noteOn20 >= 10 ? 'âœ… ADMIS - AccÃ¨s Ã  l\'atelier autorisÃ© ! ğŸ‰' : 'âŒ NON ADMIS - Il faut rÃ©viser et recommencer ğŸ“š'}
                    </div>
                </div>
            `;
            
            resultsDiv.className = `results ${noteOn20 >= 10 ? '' : 'failed'}`;
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
            
            // PrÃ©parer les donnÃ©es pour envoi
            window.currentResults = {
                nom: name, prenom: firstname, classe: studentClass, date_test: testDate,
                score_total: score, note_sur_20: noteOn20, pourcentage: percentage,
                q24_reponse: q24Answer, q24_score: q24Score, details: details,
                timestamp: new Date().toISOString()
            };
        });
        
        function arraysEqual(a, b) {
            return a.length === b.length && a.every((val, index) => val === b[index]);
        }
        
        async function sendResults() {
            if (!window.currentResults) {
                alert('ğŸš¨ Veuillez d\'abord terminer le test.');
                return;
            }
            
            const statusEl = document.getElementById('send-status');
            statusEl.textContent = 'ğŸ“¤ Envoi en cours...';
            statusEl.style.color = '#666';
            
            try {
                const response = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(window.currentResults)
                });
                
                if (response.ok) {
                    statusEl.textContent = 'âœ… RÃ©sultats envoyÃ©s au professeur avec succÃ¨s ! ğŸ‰';
                    statusEl.style.color = '#2e7d32';
                } else {
                    throw new Error(`Erreur ${response.status}`);
                }
            } catch (error) {
                statusEl.textContent = `âŒ Erreur d'envoi: ${error.message}`;
                statusEl.style.color = '#d32f2f';
            }
        }

        // Auto-remplir la date du jour
        document.getElementById('test-date').value = new Date().toISOString().split('T')[0];
    </script>
</body>
</html>
